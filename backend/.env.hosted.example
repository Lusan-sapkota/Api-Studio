# =============================================================================
# API Studio - Hosted Mode Configuration
# =============================================================================
# This configuration is for multi-user, hosted deployment with full authentication
# Suitable for team collaboration and production deployments

# Application Mode - MUST be "hosted" for multi-user mode with authentication
APP_MODE=hosted

# Database Configuration
DATABASE_URL=sqlite:///./api_studio.db

# Security Configuration (REQUIRED)
SECRET_KEY=your-very-secure-secret-key-change-in-production-min-32-chars
ALGORITHM=HS256

# JWT Configuration (REQUIRED for hosted mode)
# Generate a strong secret: openssl rand -hex 32
JWT_SECRET=your-jwt-secret-key-must-be-different-from-secret-key-change-in-production
JWT_EXPIRY=86400

# Frontend URL for CORS (REQUIRED)
FRONTEND_URL=https://your-domain.com

# SMTP Configuration (REQUIRED for email features)
# Gmail example (use app passwords, not regular password):
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-gmail-app-password
EMAIL_FROM=noreply@your-domain.com

# Alternative SMTP providers:
# SendGrid:
# SMTP_SERVER=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASSWORD=your-sendgrid-api-key

# Mailgun:
# SMTP_SERVER=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_USER=postmaster@your-domain.mailgun.org
# SMTP_PASSWORD=your-mailgun-password

# Bootstrap Configuration (REQUIRED for initial setup)
# Generate a secure token: openssl rand -hex 32
ADMIN_BOOTSTRAP_TOKEN=your-secure-bootstrap-token-change-this-in-production

# Security Settings (Optional - defaults provided)
OTP_EXPIRY=600                    # OTP expiry in seconds (10 minutes)
MAX_LOGIN_ATTEMPTS=5              # Max failed login attempts before lockout
LOGIN_LOCKOUT_DURATION=900        # Lockout duration in seconds (15 minutes)

# 2FA Settings (Optional - defaults provided)
APP_NAME=API Studio               # Name shown in authenticator apps

# Server Settings (for start.py script)
HOST=0.0.0.0
PORT=58123
RELOAD=false                      # Set to false in production

# Development Settings (set to false in production)
WEBSOCKET_DEBUG=false

# =============================================================================
# SMTP Setup Instructions:
# =============================================================================
# 
# Gmail Setup:
# 1. Enable 2-factor authentication on your Google account
# 2. Generate an "App Password" for API Studio
# 3. Use your email as SMTP_USER and the app password as SMTP_PASSWORD
# 
# SendGrid Setup:
# 1. Create a SendGrid account and verify your domain
# 2. Create an API key with mail sending permissions
# 3. Use "apikey" as SMTP_USER and your API key as SMTP_PASSWORD
# 
# Mailgun Setup:
# 1. Create a Mailgun account and add your domain
# 2. Get your SMTP credentials from the Mailgun dashboard
# 3. Use the provided SMTP username and password
# 
# =============================================================================
# Security Checklist for Production:
# =============================================================================
# 
# ✓ Change all default passwords and tokens
# ✓ Use strong, unique SECRET_KEY and JWT_SECRET (min 32 characters)
# ✓ Set RELOAD=false in production
# ✓ Use HTTPS for FRONTEND_URL
# ✓ Configure proper SMTP with your domain
# ✓ Set strong ADMIN_BOOTSTRAP_TOKEN and keep it secure
# ✓ Consider using environment-specific secrets management
# ✓ Regularly rotate secrets and tokens
# 
# =============================================================================